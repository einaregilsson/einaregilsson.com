<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>Idiot cardgame for Facebook</title>
		<link rel="stylesheet" href="../css/site.css" type="text/css" media="screen" />
	</head>
	<body>
		<header>
			<h1><a href="../">Einar Egilsson</a></h1>
		</header>
		<div id="content">			
			<article>
				<h2>Idiot cardgame for Facebook</h2>
				<small>
					Posted: <time>2010-12-07</time> 
					Last updated: <time datetime="2012-04-17">2012-04-17</time>
				</small>
			
				<p>A couple of years ago I created a <a href="../idiot-cardgame/">simple javascript version of the cardgame Idiot</a>. It was very simple, no animation, tracking of scores or anything like that. Still, it got a few users, and there was some activity on it every day. A few months ago I wanted to learn some new technologies. I wanted to try Google App Engine, learn more about jQuery and try creating a Facebook app. So, I decided to use Idiot as a test project and create a better version of the game.</p>

				<p>I worked on it on and off for months. No pressure to finish since it was just a hobby project. And finally, on November 18th I launched the new version at <a href="http://www.idiot-cardgame.com">http://www.idiot-cardgame.com</a> and at <a href="http://apps.facebook.com/idiot-cardgame/">http://apps.facebook.com/idiot-cardgame/</a> to play it within Facebook itself.</p>

				<p class="update"><strong>UPDATE 24.05.2011:</strong> Because the game is better known under the name Shithead I bought a new domain for that, shithead-cardgame.com. Unfortunately both Facebook and Google App Engine were unhappy with a domain with profanity in the title so I forked the code and made a simple anonymous version that's not a Facebook app. Go there to <a href="http://www.shithead-cardgame.com/">play shithead card game online</a>.</p>

				<p>The new game has animated playing of cards, shows your avatars and tracks statistics. You can also choose cardbacks and cardfronts, animation speed and some other options, and there is a <a href="http://www.idiot-cardgame.com/highscores">High scores</a> page which shows the 10 best players.</p>

				<p>Now, 6 weeks after launch it has about 250 registered Facebook users plus a lot of anonymous users. I wanted to allow anonymous play as well instead of forcing everyone to give their Facebook credentials. However, tracking of statistics and saving preferences requires Facebook registration. There are around 6-700 games played every day and the computer player wins around 45-50% of them.</p>

				<p>All in all I'm happy with the game. I've been adding a few small features and fixing bugs since launch. The next major feature I'm planning is the ability to play against your friends. The newest App Engine SDK includes support for Comet style connections which would make this a lot easier than it was a few months ago.</p>

				<p>Finally, some lessons learned:</p>

				<ul>
					<li>Create your basic game engine in vanilla javascript and use events (or callbacks) for rendering the actions. I did this and can run games for testing in a simple command line script, which is really nice while you're developing the basic game.</li>
					<li>Make the human player and the computer player implement the same interface, and let the Game object be ignorant of which player is which. This gives you the ability to play two computer players against each other during testing, which helps a lot if you don't want to actually play the game thousands of times during development. I even have hidden options to do this in production so I can just watch an animated game play out.</li>
					<li>Facebook SDK documentation is complete crap. Best resource to test things is <a href="http://fbrell.com">http://fbrell.com</a>.</li>
					<li>App Engine regularly throws errors when connecting to the Datastore. Not all the time, but it is something you have to plan for.</li>
				</ul>
			</article>
			<hr>
			<p class="shamelessplug">If you read this far you should probably <a href="http://twitter.com/einaregilsson">follow me on Twitter</a>.</p>
			<div id="disqus_thread"></div>
			<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
		</div>
		<footer></footer>
		<script src="../js/jquery-1.7.min.js"></script>
		<script src="../js/site.js"></script>
	</body>
</html>